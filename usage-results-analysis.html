<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<meta charset="utf-8">
		<title>Mongoose Usage Results Analysis</title>
		<link rel="stylesheet" href="style.css">
	</head>
	<body>
		<fieldset>
			<legend><h2>RESULTS ANALYSIS</h2></legend>
			<p>
				<fieldset>
					<legend><h3>STANDARD OUTPUT</h3></legend>
					<p>
						After you start Mongoose you can see output like below:
						<fieldset class="bash" style="color: #00ff00">
							<code>
								<pre>
2016-06-24T07:08:39,506 I LogUtil              main                           Logging subsystem is &#8617;
   configured successfully
2016-06-24T07:08:39,612 I                      main                           Configuration paramet&#8617;
   ers:
+--------------------------------+----------------------------------------------------------------+
| Key                            | Value                                                          |
+--------------------------------+----------------------------------------------------------------+
| item.type                      | data                                                           |
| load.type                      | create                                                         |
| load.threads                   | 1                                                              |
| load.limit.count               | 0                                                              |
| load.limit.time                | 0s                                                             |
| run.mode                       | standalone                                                     |
| run.version                    | 2.3.0                                                          |
| run.id                         | 2016.06.24.07.08.38.448                                        |
| storage.type                   | http                                                           |
+--------------------------------+----------------------------------------------------------------+
2016-06-24T07:08:39,614 I ScenarioRunner       main                           Using the scenario fr&#8617;
   om the file "/home/kurila/work/mongoose/mongoose-2.3.0/scenario/default.json"
2016-06-24T07:08:39,850 I HttpBucketHelper     main                           Bucket "mongoose-2016&#8617;
   .06.24.07.08.39.730" created
2016-06-24T07:08:39,895 I LoadExecutorBase     main                           0-S3-Create-1x1: will&#8617;
   use "newDataItemSrc<BasicHttpData>" as an item source
2016-06-24T07:08:39,905 I LoadJob              main                           Start the job "0-S3-C&#8617;
   reate-1x1"
2016-06-24T07:08:39,923 I LoadExecutorBase     0-S3-Create-1x1                count=(0/0); duration&#8617;
   [us]=(0/0/0); latency[us]=(0/0/0); TP[op/s]=(0.000/0.000); BW[MB/s]=(0.000/0.000)
2016-06-24T07:08:49,942 I LoadExecutorBase     0-S3-Create-1x1                count=(1980/0); durat&#8617;
   ion[us]=(4391/3901/48705); latency[us]=(1050/151/25281); TP[op/s]=(219.031/184.341); BW[MB/s]=(&#8617;
   219.031/184.341)
2016-06-24T07:08:59,943 I LoadExecutorBase     0-S3-Create-1x1                count=(4391/0); durat&#8617;
   ion[us]=(4226/3876/48705); latency[us]=(977/219/25281); TP[op/s]=(230.412/220.435); BW[MB/s]=(2&#8617;
   30.412/220.435)
2016-06-24T07:09:09,944 I LoadExecutorBase     0-S3-Create-1x1                count=(6841/0); durat&#8617;
   ion[us]=(4162/3870/48705); latency[us]=(907/154/25281); TP[op/s]=(235.291/235.836); BW[MB/s]=(2&#8617;
   35.291/235.836)
2016-06-24T07:09:19,945 I LoadExecutorBase     0-S3-Create-1x1                count=(9344/0); durat&#8617;
   ion[us]=(4112/3844/48705); latency[us]=(851/154/3537); TP[op/s]=(239.031/244.870); BW[MB/s]=(23&#8617;
   9.031/244.870)
...
								</pre>
							</code>
						</fieldset>
					</p>
					<p>
						There is a table of some key configuration parameters in the beginning which are loaded from the default configuration file and overriden with CLI arguments:
						<ul>
							<li>item.type: the default item type to use (container/data/token)</li>
							<li>load.type: the default load type to use (create/read/update/delete)</li>
							<li>load.threads: the default concurrency level to use</li>
							<li>load.limit.count: the default maximum count of the items to process (create/read/etc), 0 means no limit</li>
							<li>load.limit.time: the default load job time limit, 0 means no limit</li>
							<li>run.mode: the run mode (standalone/wsmock/server/client/webui)</li>
							
						<ul>
					</p>
					<p>
						After several initialization statements Mongoose starts reporting its progress every 10 seconds. Progress information is printed with the following layout:
						<table>
						<tr><th>Version &lt; 2.4.0</th><th>Version &ge; 2.4.0</th></tr>
						<tr><td>
						<pre>
&lt;TIMESTAMP&gt; &lt;LEVEL&gt; &lt;CLASS&gt; &lt;LOAD_JOB_NAME&gt; &#8617;
count=(&lt;SUCCESS&gt;/&lt;FAIL&gt;); &#8617;
duration[us]=(&lt;AVG&gt;/&lt;MIN&gt;/&lt;MAX&gt;); &#8617;
latency[us]=(&lt;AVG&gt;/&lt;MIN&gt;/&lt;MAX&gt;); &#8617;
TP[op/s]=(&lt;AVG&gt;/&lt;AVG_LAST&gt;); &#8617;
BW[MB/s]=(&lt;AVG&gt;/&lt;AVG_LAST&gt;)
						</pre></td><td><pre>
&lt;TIMESTAMP&gt; &lt;LEVEL&gt; &lt;CLASS&gt; &lt;LOAD_JOB_NAME&gt; &#8617;
n=(&lt;SUCCESS&gt;/&lt;FAIL&gt;); &#8617;
t[s]=(&lt;JOB_TIME&gt;/&lt;DURATION_SUM&gt;) &#8617;
TP[op/s]=(&lt;AVG&gt;/&lt;AVG_LAST&gt;); &#8617;
size=(&lt;SIZE&gt); &#8617;
BW[MB/s]=(&lt;AVG&gt;/&lt;AVG_LAST&gt;) &#8617;
dur[us]=(&lt;AVG&gt;/&lt;MIN&gt;/&lt;MAX&gt;); &#8617;
lat[us]=(&lt;AVG&gt;/&lt;MIN&gt;/&lt;MAX&gt;)
						</pre></td></tr></table>
					</p>
					<p>
						The summary metrics statement has a bit different metrics layout:
						<table>
							<tr><th>Version &lt; 2.4.0</th><th>Version &ge; 2.4.0</th></tr>
							<tr><td>
						<pre>
count=(&lt;SUCCESS&gt;/&lt;FAIL&gt;); &#8617;
duration[us]=(&lt;AVG&gt;/&lt;MIN&gt;/&lt;LOQ&gt;/&lt;MED&gt;/&lt;HIQ&gt;/&lt;MAX&gt;); &#8617;
latency[us]=(&lt;AVG&gt;/&lt;MIN&gt;/&lt;LOQ&gt;/&lt;MED&gt;/&lt;HIQ&gt;/&lt;MAX&gt;); &#8617;
TP[op/s]=(&lt;AVG&gt;/&lt;AVG_LAST&gt;); &#8617;
BW[MB/s]=(&lt;AVG&gt;/&lt;AVG_LAST&gt;)
						</pre>
							</td><td>
						<pre>
n=(&lt;SUCCESS&gt;/&lt;FAIL&gt;); &#8617;
t[s]=(&lt;JOB_TIME&gt;/&lt;DURATION_SUM&gt;) &#8617;
TP[op/s]=(&lt;AVG&gt;/&lt;AVG_LAST&gt;); &#8617;
size=(&lt;SIZE&gt); &#8617;
BW[MB/s]=(&lt;AVG&gt;/&lt;AVG_LAST&gt;) &#8617;
dur[us]=(&lt;AVG&gt;/&lt;MIN&gt;/&lt;LOQ&gt;/&lt;MED&gt;/&lt;HIQ&gt;/&lt;MAX&gt;); &#8617;
lat[us]=(&lt;AVG&gt;/&lt;MIN&gt;/&lt;LOQ&gt;/&lt;MED&gt;/&lt;HIQ&gt;/&lt;MAX&gt;)
						</pre>
							</td></tr>
						</table>
						Where <i>"LOQ"</i> is a low quartile of the distribution and <i>"HIQ"</i> is a high quartile.
					</p>
				</fieldset>
			</p>
			<p>
				<fieldset>
					<legend><h3>LOG FILES</h3></legend>
					<p>
						The tool saves rich logging information about the events and performance metrics.
						The particular path for the logs for every run may be determined as <b><code>log/&lt;RUN_ID&gt;</code></b>.
						The directory contains a subset of the following files:
						<ul>
							<li>
								<p><b>3rparty.log</b> (optional, created when needed only)</p>
								<p>Third party libraries logging goes here</p>
							</li>
							<li>
								<p><b>config.log</b> (available since v1.0.0)</p>
								<p>Effective run configuration. In case a run was restarted or resumed several times, the log file contains several configurations</p>
							</li>
							<li>
								<p><b>errors.log</b></p>
								<p>The file contains error and warning messages</p>
							</li>
							<li>
								<p><b>items.csv</b></p>
								<p>The file contains information about processed data items with the entries pattern:</p>
								<p><fieldset>&lt;ITEM_PATH&gt;,&lt;ITEM_RING_OFFSET&gt;,&lt;ITEM_SIZE&gt;,&lt;RING_LAYER_#&gt;/&lt;UPDATED_RANGES_MASK&gt;</fieldset></p>
								<p>This file is without a header line because some users shuffle it.</p>
							</li>
							<li>
								<p><b>messages.log</b></p>
								<p>The file contains Mongoose internal log messages.</p>
							</li>
							<li>
								<p><b>perf.avg.csv</b> (optional, created by Mongoose &ge; 0.8)</p>
								<p>The file contains periodic performance metrics dumps. The header line describes the content:</p>
								<table>
									<tr><th>Version &lt; 2.4.0</th><th>Version &ge; 2.4.0 </th></tr>
									<tr>
										<td>
											<fieldset>
												DateTimeISO8601,<br/>
												LoadId,<br/>
												TypeAPI,<br/>
												TypeLoad,<br/>
												CountConn,<br/>
												CountNode,<br/>
												CountLoadServer,<br/>
												CountSucc,<br/>
												CountFail,<br/>
												DurationAvg[us],<br/>
												DurationMin[us],<br/>
												DurationMax[us],<br/>
												LatencyAvg[us],<br/>
												LatencyMin[us],<br/>
												LatencyMax[us],<br/>
												TPAvg[op/s],<br/>
												TPLast[op/s],<br/>
												BWAvg[MB/s],<br/>
												BWLast[MB/s]
											</fieldset>
										</td>
										<td>
											<fieldset>
												DateTimeISO8601,<br/>
												LoadId,<br/>
												TypeAPI,<br/>
												TypeLoad,<br/>
												CountConn,<br/>
												CountNode,<br/>
												CountLoadServer,<br/>
												CountSucc,<br/>
												CountFail,<br/>
												JobDuration[s],<br/>
												DurationSum[s],<br/>
												TPAvg[op/s],<br/>
												TPLast[op/s],<br/>
												Size,<br/>
												BWAvg[MB/s],<br/>
												BWLast[MB/s],<br/>
												DurationAvg[us],<br/>
												DurationMin[us],<br/>
												DurationMax[us],<br/>
												LatencyAvg[us],<br/>
												LatencyMin[us],<br/>
												LatencyMax[us]
											</fieldset>
										</td>
									</tr>
								</table>
							</li>
							<li>
								<p><b>perf.sum.csv</b></p>
								<p>The file contains summary performance information calculated at the end of the run. The header line describes the content:</p>
								<table>
									<tr><th>Version &lt; 2.4.0</th><th>Version &ge; 2.4.0 </th></tr>
									<tr>
										<td>
											<fieldset>
												DateTimeISO8601,<br/>
												LoadId,<br/>
												TypeAPI,<br/>
												TypeLoad,<br/>
												CountConn,<br/>
												CountNode,<br/>
												CountLoadServer,<br/>
												CountSucc,<br/>
												CountFail,<br/>
												DurationAvg[us],<br/>
												DurationMin[us],<br/>
												DurationLoQ[us],<br/>
												DurationMed[us],<br/>
												DurationHiQ[us],<br/>
												DurationMax[us],<br/>
												LatencyAvg[us],<br/>
												LatencyMin[us],<br/>
												LatencyLoQ[us],<br/>
												LatencyMed[us],<br/>
												LatencyHiQ[us],<br/>
												LatencyMax[us],<br/>
												TPAvg[op/s],<br/>
												TPLast[op/s],<br/>
												BWAvg[MB/s],<br/>
												BWLast[MB/s]
											</fieldset>
										</td>
										<td>
											<fieldset>
												DateTimeISO8601,<br/>
												LoadId,<br/>
												TypeAPI,<br/>
												TypeLoad,<br/>
												CountConn,<br/>
												CountNode,<br/>
												CountLoadServer,<br/>
												CountSucc,<br/>
												CountFail,<br/>
												JobDuration[s],<br/>
												DurationSum[s],<br/>
												TPAvg[op/s],<br/>
												TPLast[op/s],<br/>
												Size,<br/>
												BWAvg[MB/s],<br/>
												BWLast[MB/s],<br/>
												DurationAvg[us],<br/>
												DurationMin[us],<br/>
												DurationLoQ[us],<br/>
												DurationMed[us],<br/>
												DurationHiQ[us],<br/>
												DurationMax[us],<br/>
												LatencyAvg[us],<br/>
												LatencyMin[us],<br/>
												LatencyLoQ[us],<br/>
												LatencyMed[us],<br/>
												LatencyHiQ[us],<br/>
												LatencyMax[us]
											</fieldset>
										</td>
									</tr>
								</table>
							</li>
							<li>
								<p><b>perf.trace.csv</b></p>
								<p>The file contains detailed performance metrics per data item processed. The entry pattern is described by header:</p>
								<p>
									<fieldset>
										Thread,<br/>
										TargetNode,<br/>
										ItemId,<br/>
										ItemSize,<br/>
										StatusCode,<br/>
										ReqTimeStart[us],<br/>
										RespLatency[us],<br/>
										DataLatency[us],<br/>
										Duration[us]
									</fieldset>
								</p>
							</li>
						</ul>
					</p>
					<p>
						The result code in the perf.trace.csv file may have one of the values below
						<table border="1">
							<tr><th>Code</th><th>Description</th><th>HTTP response codes</th></tr>
							<tr><td>0</td><td>Success</td><td>2xx</td></tr>
							<tr><td>1</td><td>Cancelled</td><td></td></tr>
							<tr><td>2</td><td>Unknown failure</td><td>all other codes</td></tr>
							<tr><td>3</td><td>I/O failure</td><td></td></tr>
							<tr><td>4</td><td>Timeout</td><td>504</td></tr>
							<tr><td>5</td><td>Unrecognized storage response</td><td></td></tr>
							<tr><td>6</td><td>Client failure or invalid request</td><td>100, 400, 405, 409, 411, 414, 416</td></tr>
							<tr><td>7</td><td>Internal storage failure</td><td>413, 415, 429, 500, 501, 502, 503, 505</td></tr>
							<tr><td>8</td><td>Item not found on the storage</td><td>404</td></tr>
							<tr><td>9</td><td>Authentication/access failure</td><td>401, 403</td></tr>
							<tr><td>10</td><td>Data item corrupted</td><td></td></tr>
							<tr><td>11</td><td>Not enough space on the storage</td><td>507</td></tr>
						</table>
					</p>
				</fieldset>
			</p>
		</fieldset>
	</body>
</html>
